<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="thread-title">Thread | Moltbot Forum</title>
    <meta name="description" content="Discussion thread on Moltbot Forum - The AI Agent Community Hub">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo" style="display: flex; align-items: center; gap: 0.5rem;">
                    <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 32px; height: 32px;">
                        <path d="M60 10 C30 10 15 35 15 55 C15 75 30 95 45 100 L45 110 L55 110 L55 100 C55 100 60 102 65 100 L65 110 L75 110 L75 100 C90 95 105 75 105 55 C105 35 90 10 60 10Z" fill="url(#lobster-gradient)"></path>
                        <path d="M20 45 C5 40 0 50 5 60 C10 70 20 65 25 55 C28 48 25 45 20 45Z" fill="url(#lobster-gradient)"></path>
                        <path d="M100 45 C115 40 120 50 115 60 C110 70 100 65 95 55 C92 48 95 45 100 45Z" fill="url(#lobster-gradient)"></path>
                        <defs>
                            <linearGradient id="lobster-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#ff4d4d"></stop>
                                <stop offset="100%" stop-color="#991b1b"></stop>
                            </linearGradient>
                        </defs>
                    </svg>
                    MOLTBOT Hub
                </a>
                <div class="nav-links">
                    <a href="index.html">Discussions</a>
                    <a href="index.html?cat=Showcase">Showcase</a>
                    <a href="index.html?cat=Guides">Guides</a>
                    <a href="https://molt.bot" class="btn btn-primary" style="padding: 0.5rem 1.5rem; margin-left: 1rem;">Official Site</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="thread-detail-container">
            <!-- Back Button -->
            <a href="index.html" class="back-button">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Back to Discussions
            </a>

            <!-- Thread Header -->
            <div class="thread-header-detail" id="thread-header">
                <div class="thread-meta-detail">
                    <div class="user-avatar" id="thread-avatar">
                        <!-- Skeleton for avatar -->
                        <div class="skeleton skeleton-avatar"></div>
                    </div>
                    <div>
                        <span id="thread-author" class="skeleton skeleton-text" style="width: 100px; display: inline-block;"></span> 
                        â€¢ <span id="thread-time" class="skeleton skeleton-text" style="width: 80px; display: inline-block;"></span>
                    </div>
                </div>
                <h1 id="thread-title-display">
                    <div class="skeleton skeleton-title"></div>
                </h1>
                <div class="thread-tags" id="thread-tags-display">
                    <!-- Skeletons for tags -->
                    <div class="skeleton" style="width: 60px; height: 20px; border-radius: 99px; display: inline-block;"></div>
                </div>
            </div>

            <!-- Giscus Comments -->
            <div class="giscus-container">
                <script src="https://giscus.app/client.js"
                        data-repo="yfgithub/moltbot"
                        data-repo-id="R_kgDORC6DUA"
                        data-category="General"
                        data-category-id="DIC_kwDORC6DUM4C1hlU"
                        data-mapping="pathname"
                        data-strict="0"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="bottom"
                        data-theme="preferred_color_scheme"
                        data-lang="en"
                        crossorigin="anonymous"
                        async>
                </script>
            </div>
        </div>
    </main>

    <footer class="container">
        <p>&copy; 2026 Moltbot Forum Community. Not affiliated with Anthropic.</p>
        <p style="margin-top: 1rem; font-size: 0.8rem;">moltbot.forum is the central hub for the Moltbot ecosystem.</p>
    </footer>

    <script src="scripts.js"></script>
    <script>
        // Get thread info from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const threadId = urlParams.get('id');
        
        // Thread data (in a real app, this would come from an API or database)
        const threads = {
            '1': {
                title: "Moltbot v2.0 Roadmap: What's coming next?",
                author: 'u/MoltMaster',
                time: '2 hours ago',
                tags: ['#Official', '#Roadmap'],
                avatar: 'images/mascot.png'
            },
            '2': {
                title: 'New Plugin: Multi-Agent coordination for marketing teams',
                author: 'u/PluginDev',
                time: '5 hours ago',
                tags: ['#Showcase', '#Plugins'],
                avatar: null
            },
            '3': {
                title: 'Transitioning from Clawdbot to Moltbot: A quick migration guide',
                author: 'u/ClawdLegacy',
                time: '8 hours ago',
                tags: ['#Guides'],
                avatar: null
            }
        };

        // Load thread data
        if (threadId && threads[threadId]) {
            const thread = threads[threadId];
            
            // Simulate loading delay
            setTimeout(() => {
                document.getElementById('thread-title').textContent = thread.title + ' | Moltbot Forum';
                
                // Author and Time
                const authorEl = document.getElementById('thread-author');
                authorEl.classList.remove('skeleton', 'skeleton-text');
                authorEl.style.width = 'auto';
                authorEl.textContent = thread.author;
                
                const timeEl = document.getElementById('thread-time');
                timeEl.classList.remove('skeleton', 'skeleton-text');
                timeEl.style.width = 'auto';
                timeEl.textContent = thread.time;

                // Title Display
                const titleDisplay = document.getElementById('thread-title-display');
                titleDisplay.innerHTML = thread.title;

                // Update tags
                const tagsContainer = document.getElementById('thread-tags-display');
                tagsContainer.innerHTML = thread.tags.map(tag => `<span class="tag">${tag}</span>`).join('');
                
                // Update avatar
                const avatarEl = document.getElementById('thread-avatar');
                avatarEl.innerHTML = '';
                if (thread.avatar) {
                    avatarEl.innerHTML = `<img src="${thread.avatar}" alt="User" style="width: 100%; height: 100%; object-fit: cover;">`;
                } else {
                    avatarEl.style.background = '#334155';
                    avatarEl.style.borderColor = '#94a3b8';
                }
                
                // Fade in header
                const header = document.getElementById('thread-header');
                header.style.opacity = '0';
                header.style.transform = 'translateY(10px)';
                header.style.transition = 'all 0.5s ease';
                setTimeout(() => {
                    header.style.opacity = '1';
                    header.style.transform = 'translateY(0)';
                }, 50);
            }, 800);
        } else {
            document.getElementById('thread-title-display').innerHTML = '<div class="empty-state">Thread not found</div>';
        }
    </script>
</body>
</html>
